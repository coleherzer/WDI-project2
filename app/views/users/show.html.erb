<div class="container">

    <h1 class="user-name"><%= @user.name %>'s Personal Health Page</h1>

    <p class="user-info">Age: <%= @user.age %></p>
    <p class="user-info">Email: <%= @user.email %></p>
    <p class="user-info">Current Height: <%= @user.height %> inches</p>
    <p class="user-info">Start Weight: <%= @user.start_weight %> pounds</p>
    <p class="user-info">Current Weight: <%= @user.weight %> pounds</p>

    <%= link_to "Edit Information", edit_user_path %>

    <br />

    <h3 class="user-calendar">Health Calendar:</h3>
    <!-- <%# month_calendar do |date| %>
        <%# date %>
    <%# end %> -->

    <%= month_calendar attribute: :, events: @events do |date, events| %>
        <%= date.day %>
        <% exercises = Exercise.where time_done: date %>
        <% diets = Diet.where meal_time: date %>
        <% goals = Goal.where due_date: date %>

        <!-- set it up so that if exercise info exists... Display a little icon (same for diets and goals)
        use the same code but do and if exercises.count > 0 do ... and instead of creating a p, create an icon -->
        <br />
        <% if (exercises.count > 0) %>
            <i class="fa fa-heartbeat" aria-hidden="true"></i>
        <% end %>
        <br />
        <% if (diets.count > 0) %>
            <i class="fa fa-cutlery" aria-hidden="true"></i>
        <% end %>
        <br />
        <% if (goals.count > 0) %>
            <i class="fa fa-star-o" aria-hidden="true"></i>
        <% end %>
        <br />
        <!-- <%# goals.each do |g| %>
            <p class="goals">
                <%# g.goal_type %>
                Goal
            </p>
        <%# end %> -->
    <% end %>

    <br />

    <!-- Go back and add a weight column to exercises so users can log how much weight they tossed around -->

    <h3>Exercises:</h3>
    <%= link_to "Add an Exercise", new_exercise_path %>
    <ul>
        <% @user.exercises.each do |e| %>
            <li><%= e.name_of_exercise %>
                <ul>
                    <li>Type of Exercise: <%= e.exercise_category %></li>
                    <% if (e.calories_burned != nil) %> 
                        <li>Calories Burned (If known): <%= e.calories_burned %> calories</li>
                    <% end %> 
                    <% if (e.duration != nil) %> 
                        <li>Duration of Exercise: <%= e.duration %> minutes</li>
                    <% end %>
                    <% if (e.distance != nil) %> 
                        <li>Distance Traveled: <%= e.distance %> miles</li>
                    <% end %> 
                    <% if (e.repititions != nil) %> 
                        <li>Number of Repititions: <%= e.repititions %> reps</li>
                    <% end %> 
                    <% if (e.weight != nil) %> 
                        <li>Weight: <%= e.weight %> pounds</li>
                    <% end %> 
                    <li><%= link_to "Edit Exercise", edit_exercise_path(e.id) %></li>
                </ul>
            </li>
        <% end %> 
    </ul> 

    <br />

    <h3>Diet:</h3>
    <%= link_to "Add Dietary Information", new_diet_path %>
    <ul>
        <% @user.diets.each do |d| %>
            <li><%= d.meal_name %>
                <ul>
                    <li>Description: <%= d.description %></li>
                    <% if (d.calories != nil) %> 
                        <li>Calories (If known): <%= d.calories %> calories</li>
                    <% end %> 
                    <% if (d.healthy != nil) %> 
                        <% if (d.healthy == true) %>
                            <li>Healthy Meal: Yes</li>
                        <% else %> 
                            <li>Healthy Meal: No</li>
                        <% end %> 
                    <% end %> 
                    <li><%= link_to "Edit Meal", edit_diet_path(d.id) %></li>
                </ul>
            </li>
        <% end %>
    </ul>

    <h3>Goals:</h3>
    <%= link_to "Add a Goal", new_goal_path %>
    <ul>
        <% @user.goals.each do |g| %>
            <li><%= g.goal_type %>
                <ul>
                    <li>Description: <%= g.description %></li>
                    <% if (g.completed != nil) %> 
                        <% if (g.completed == true) %>
                            <li>Goal Status: Completed</li>
                        <% else %> 
                            <li>Goal Status: Incomplete</li>
                        <% end %> 
                    <% end %> 
                    <li><%= link_to "Edit Goal", edit_goal_path(g.id) %></li>
                </ul>
            </li>
        <% end %> 
    </ul> 

    <br />

    <%= link_to "Log Out", logout_path, method: "delete" %> 

</div>